<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="js/tools.js"></script>
		<link rel="stylesheet" type="text/css" href="css/index.css"/>
	</head>
	<body>
		<div id="box">
			<ul>
				<li><a href="javascript:;"><img src="imgs/1.jpg" alt=""></a></li>
				<li><a href="javascript:;"><img src="imgs/2.jpg" alt=""></a></li>
				<li><a href="javascript:;"><img src="imgs/3.jpg" alt=""></a></li>
				<li><a href="javascript:;"><img src="imgs/4.jpg" alt=""></a></li>
			</ul>
			<ol>
				
			</ol>
			<a href="javascript:;" id="goup">&laquo;</a>
			<a href="javascript:;" id="godown">&raquo;</a>
		</div>
	</body>
	<script>
		var box = document.querySelector("#box");
		var ul =document.querySelector("ul");
		var imgs = ul.children;
		var ol = document.querySelector("ol");
		var btns = [];
		var goup = document.querySelector("#goup");
		var godown = document.querySelector("#godown");
		var index = 0;
		var lastIndex = 0;
		
		//根据imgs创建btn
		for(let i = 0; i<=imgs.length-1; i++){
			var oli = document.createElement("li");
			oli.innerHTML=i+1;
			if(i===0) oli.classList.add("ac");
			ol.appendChild(oli);
			btns.push(oli);
		}
		//给btn绑事件
		for(let i = 0; i<btns.length; i++){
			btns[i].onclick = ()=>{
				index=i
				change();
				lastIndex=index;
				
			}
		}
		//goup绑定事件
		goup.onclick = ()=>{
			index++;
			if(index===4){
				index=0;
			}
			change();
			lastIndex=index;
		}
		//godown绑定事件
		godown.onclick = function(){
			index--;
			if(index===-1){
				index=3;
			}
			change();
			lastIndex=index;
		}
		var change = function(){
			btns[index].classList.add("ac");
			btns[lastIndex].classList.remove("ac");
			move(ul,"top",-index*300,)
		}
		//auto事件
		var timer =null;
		function autoplay(){
			timer = setInterval(function(){
			goup.onclick();
			},2000)
		};
		autoplay();
		//移入移出事件
		box.onmouseenter=function(){
			clearInterval(timer);
		}
		box.onmouseleave=function(){
			autoplay();
		}
	</script>
</html>
